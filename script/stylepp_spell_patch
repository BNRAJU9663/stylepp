DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
PATH=$PATH:$DIR/../bin:$DIR

if [ ! -f $DIR/../maintained/dictionary_personal ]; then
  cp $DIR/../maintained/dictionary_common $DIR/../maintained/dictionary_personal
fi

cp $DIR/../maintained/dictionary_wiki dictionary
stylepp_fix_spell
git commit -a -m "Fix common typos."

cp $DIR/../maintained/dictionary_names dictionary
stylepp_fix_spell
git commit -a -m "Fix capitalization."

cp $DIR/../maintained/dictionary_personal dictionary
stylepp_fix_spell
git commit -a -m "Fix typos from personal list."

stylepp_spellcheck
stylepp_dictionary
stylepp_fix_spell
git commit -a -m "Fix typos."

# Now merge fixes to personal directory
TDICT=`mktemp`
cat dictionary $DIR/../maintained/dictionary_personal | sort | uniq > $TDICT
cp $TDICT $DIR/../maintained/dictionary_personal
rm $TDICT
